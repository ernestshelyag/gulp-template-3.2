extends ../template

block variables
    - var title = 'Contacts'
    - var bodyFlex = true

block content

    include ../layout/header

    // header end

    +b.MAIN.contacts(class=bodyFlex ? 'main-flex' : '')

        +e.DIV.map#map(data-zoom="7" data-lat="59.931632" data-lng="30.336528" data-latmark="59.931551" data-lngmark="33.336528")

    include ../layout/footer

    script(src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript")
    script.
      ymaps.ready(init);
      var myMap;
      var el = document.getElementById('map').dataset;

      function init () {
        myMap = new ymaps.Map("map", {
          center: [el.lat, el.lng],
          zoom: el.zoom
        });

        var myPlacemark = new ymaps.Placemark([el.latmark, el.lngmark], {}, {
          iconLayout: 'default#image',
          iconImageHref: '/img/map-mark.svg',
          iconImageSize: [90, 90],
          iconImageOffset: [-3, -42],
          hintContent: '',
          balloonContent: ''
        });

        myMap.geoObjects.add(myPlacemark);

        myMap.controls
          .remove('Button')
          .remove('fullscreenControl')
          .remove('typeSelector')
          .remove('geolocationControl')
          .remove('searchControl')
          .remove('trafficControl')
          .remove('rulerControl')
          .remove('zoomControl');

        myMap.behaviors.disable([
          'scrollZoom',
          'multiTouch',
          'drag'
        ]);
      }
